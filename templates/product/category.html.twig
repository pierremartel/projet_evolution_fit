{% extends 'base.html.twig' %}

{% block title %}
    Catégorie: {{ category.name }}
{% endblock %}

{% block body %}

    <div class="container container__tablette mt-3">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ path('home_index') }}" class="text-decoration-none">Accueil</a></li>
            <li class="breadcrumb-item active">{{ category.name }}</li>
        </ol>
    </div>

    <header class="container container__tablette header__title_filter mt-3">
        <div class="">
            <h1 class="text-capitalize">Catalogue {{ category.name }}</h1>
            <div class="underline_title"></div>
        </div>
        
        {# Formulaire pour filtrer les produits(par ordre croissant et décroissant) #}
        {% include 'product/_form_filter_product.html.twig' %}

    </header>

    <main class="container container__tablette mb-5">
        <div class="count">
            <h2 class="fs-5 my-4">Articles ({{ category.products | length }})</h2>
        </div>
        <div class="row">
            {% for p in products %}
                <div class="col col-sm-6 col-md-4 col-lg-3">
                    <a href="{{ path('product_show', {'category':p.category.slug, 'slug':p.slug}) }}" class="text-decoration-none">
                        {% include 'product/_product_card.html.twig' %}
                    </a>
                </div>
            {% endfor %}
        </div>
    </main>
    {# PAGINATION #}
    <div class="navigation d-flex justify-content-center">
        {{ knp_pagination_render(products) }}
    </div>

{% endblock %}